{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block title %}Confirm Your Email{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="card mx-auto" style="max-width: 480px;">
    <div class="card-body">
      <h2 class="mb-4 text-center">Confirm Your Email</h2>

      {% if confirmation %}
        {% if can_confirm %}
          <p class="mb-4">
            Please confirm that <strong>{{ confirmation.email_address.email }}</strong> is your email address.
          </p>
          <form method="post" action="{% url 'account_confirm_email' confirmation.key %}">
            {% csrf_token %}
            {{ redirect_field }}
            <button type="submit" class="btn btn-action w-100">Confirm</button>
          </form>
        {% else %}
          <p class="text-danger">
            This email is already confirmed by another account.
          </p>
        {% endif %}
      {% else %}
        <p class="text-danger">
          This confirmation link is invalid or expired. Please <a href="{% url 'account_email' %}">request a new one</a>.
        </p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}